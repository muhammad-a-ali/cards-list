(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"1Ut4":function(t,n,e){"use strict";e.r(n);var a=e("UKGz"),i=e("tyNb"),o=e("7o/Q");function c(t,n=!1){return e=>e.lift(new r(t,n))}class r{constructor(t,n){this.predicate=t,this.inclusive=n}call(t,n){return n.subscribe(new s(t,this.predicate,this.inclusive))}}class s extends o.a{constructor(t,n,e){super(t),this.predicate=n,this.inclusive=e,this.index=0}_next(t){const n=this.destination;let e;try{e=this.predicate(t,this.index++)}catch(a){return void n.error(a)}this.nextOrComplete(t,e)}nextOrComplete(t,n){const e=this.destination;Boolean(n)?e.next(t):(this.inclusive&&e.next(t),e.complete())}}var p=e("lJxs"),d=e("Kj3r"),g=e("/uUt"),l=e("xgIS"),h=e("fXoL"),u=e("z6cu"),b=e("JIr8"),m=e("tk/3");let x=(()=>{class t{constructor(t){this.httpClient=t,this.apiURL="https://swapi.dev/api/people/"}get(t={}){return this.httpClient.get(this.apiURL,{params:t}).pipe(Object(b.a)(this.handleError))}handleError(t){let n="Unknown error!";return n=t.error instanceof ErrorEvent?`Error: ${t.error.message}`:`Error Code: ${t.status}\nMessage: ${t.message}`,Object(u.a)(n)}}return t.\u0275fac=function(n){return new(n||t)(h.Wb(m.b))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=e("dNgK");let P=(()=>{class t{constructor(t){this.snackBar=t}openSnackBar(t,n,e){e||(e={duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),this.snackBar.open(t,n,e)}}return t.\u0275fac=function(n){return new(n||t)(h.Wb(f.a))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=e("kmnG"),C=e("qFsG"),w=e("3Pt+"),M=e("ofXK"),v=e("bTqV"),_=e("NFeN"),k=e("5+WD"),S=e("Wp6s"),R=e("Qu3c"),I=e("M9IT");const L=function(t){return{backgroundImage:t}};function y(t,n){if(1&t){const t=h.Tb();h.Sb(0,"mat-card",3),h.Sb(1,"mat-card-header"),h.Ob(2,"div",4),h.Sb(3,"mat-card-title"),h.wc(4),h.Rb(),h.Sb(5,"mat-card-subtitle"),h.wc(6),h.Rb(),h.Rb(),h.Sb(7,"mat-card-content"),h.Sb(8,"span"),h.Sb(9,"span",5),h.wc(10,"Height: "),h.Rb(),h.wc(11),h.Rb(),h.Rb(),h.Sb(12,"mat-card-actions"),h.Sb(13,"button",6),h.ac("click",(function(){h.pc(t);const e=n.$implicit;return h.ec().goToLink(e.url)})),h.wc(14,"URL"),h.Rb(),h.Sb(15,"button",6),h.ac("click",(function(){h.pc(t);const e=n.$implicit;return h.ec().goToLink(e.homeworld)})),h.wc(16,"Homeworld"),h.Rb(),h.Rb(),h.Rb()}if(2&t){const t=n.$implicit,e=h.ec();h.Bb(2),h.jc("ngStyle",h.lc(6,L,e.getImageURL(t.gender))),h.Bb(2),h.xc(t.name),h.Bb(2),h.xc(t.gender),h.Bb(5),h.yc(" ",t.height," "),h.Bb(2),h.kc("matTooltip",t.url),h.Bb(2),h.kc("matTooltip",t.homeworld)}}function j(t,n){if(1&t){const t=h.Tb();h.Sb(0,"mat-paginator",7),h.ac("page",(function(n){return h.pc(t),h.ec().pageEvent(n)})),h.Rb()}if(2&t){const t=h.ec();h.jc("length",t.data.count)("pageSize",t.data.results.length)}}let z=(()=>{class t{constructor(){this.paginatorActionURL=new h.n}ngOnInit(){}goToLink(t){t&&window.open(t)}getImageURL(t){return"male"===t?"url(../../../../../assets/images/male.jpg)":"female"===t?"url(../../../../../assets/images/female.jpg)":"url(../../../../../assets/images/anonymous.jpg)"}drop(t){Object(k.d)(this.data.results,t.previousIndex,t.currentIndex)}pageEvent(t){this.paginatorActionURL.next(t.pageIndex>t.previousPageIndex?this.data.next:this.data.previous)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["cards-list"]],inputs:{data:"data"},outputs:{paginatorActionURL:"paginatorActionURL"},decls:3,vars:2,consts:[["cdkDropList","",1,"cards-list",3,"cdkDropListDropped"],["class","card-box","cdkDrag","",4,"ngFor","ngForOf"],[3,"length","pageSize","page",4,"ngIf"],["cdkDrag","",1,"card-box"],["mat-card-avatar","",1,"header-image",3,"ngStyle"],[1,"height"],["mat-button","",3,"matTooltip","click"],[3,"length","pageSize","page"]],template:function(t,n){1&t&&(h.Sb(0,"div",0),h.ac("cdkDropListDropped",(function(t){return n.drop(t)})),h.vc(1,y,17,8,"mat-card",1),h.Rb(),h.vc(2,j,1,2,"mat-paginator",2)),2&t&&(h.Bb(1),h.jc("ngForOf",n.data.results),h.Bb(1),h.jc("ngIf",n.data.next||n.data.previous))},directives:[k.b,M.j,M.k,S.a,k.a,S.e,S.c,M.l,S.h,S.g,S.d,S.b,v.a,R.a,I.a],styles:[".header-image[_ngcontent-%COMP%]{background-size:cover}.height[_ngcontent-%COMP%]{font-weight:500}.cards-list[_ngcontent-%COMP%]{max-width:100%;border:1px solid #ccc;display:flex;flex-wrap:wrap;flex-direction:row;background:#fff;border-radius:4px;overflow:hidden}.card-box[_ngcontent-%COMP%]{width:300px;margin:10px;border-right:1px solid #ccc;color:rgba(0,0,0,.87);box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cards-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder), .cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}@media (max-width:991.98px){.card-box[_ngcontent-%COMP%]{width:270px;margin:8px;font-size:13px}.mat-card-avatar[_ngcontent-%COMP%]{height:36px;width:36px}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:18px}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:12px}.mat-button[_ngcontent-%COMP%], .mat-card-content[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{font-size:13px}.mat-card-actions[_ngcontent-%COMP%]{padding-top:4px}.mat-paginator[_ngcontent-%COMP%]{font-size:11px}.mat-paginator[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:35px;height:35px;line-height:35px}}@media (min-width:576px) and (max-width:767.98px){.card-box[_ngcontent-%COMP%]{width:240px;margin:6px;font-size:12px}.mat-card-avatar[_ngcontent-%COMP%]{height:33px;width:33px}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:16px}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:10px}.mat-button[_ngcontent-%COMP%], .mat-card-content[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{font-size:12px}.mat-card-actions[_ngcontent-%COMP%]{padding-top:2px}.mat-paginator[_ngcontent-%COMP%]{font-size:10px}.mat-paginator[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}  .mat-paginator-range-label{margin:0 8px 0 6px!important}}@media (max-width:575.98px){.cards-list[_ngcontent-%COMP%]{justify-content:center}.card-box[_ngcontent-%COMP%]{width:200px;margin:5px;font-size:11px}.mat-card-avatar[_ngcontent-%COMP%]{height:30px;width:30px}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-size:13px}.mat-card-content[_ngcontent-%COMP%]{margin-bottom:8px}.mat-button[_ngcontent-%COMP%], .mat-card-content[_ngcontent-%COMP%], .mat-card-subtitle[_ngcontent-%COMP%]{font-size:11px}.mat-card-actions[_ngcontent-%COMP%]{padding-top:0}.mat-paginator[_ngcontent-%COMP%]{font-size:10px}.mat-paginator[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}  .mat-paginator-range-label{margin:0 8px 0 6px!important}}"]}),t})();const B=["searchInput"];function D(t,n){if(1&t){const t=h.Tb();h.Sb(0,"button",4),h.ac("click",(function(){return h.pc(t),h.ec().onClearSearchInput()})),h.Sb(1,"mat-icon"),h.wc(2,"close"),h.Rb(),h.Rb()}}function U(t,n){if(1&t){const t=h.Tb();h.Sb(0,"cards-list",5),h.ac("paginatorActionURL",(function(n){return h.pc(t),h.ec().getUrlParams(n)})),h.Rb()}if(2&t){const t=h.ec();h.jc("data",t.peopleData)}}const T=[{path:"",component:(()=>{class t{constructor(t,n){this.apiRequestService=t,this.snackBarService=n,this.alive=!0,this.searchValue="",this.peopleList=[]}ngOnInit(){this.getPeopleList("")}ngAfterViewInit(){this.searchForPeople()}onClearSearchInput(){this.searchValue="",this.getPeopleList("")}getUrlParams(t){if(!t)return;const n=t.split("?")[1].split("&"),e=n[0].split("=")[1],a=n[1].split("=")[1];this.getPeopleList(e,a)}searchForPeople(){Object(l.a)(this.searchInput.nativeElement,"keyup").pipe(c(()=>this.alive),Object(p.a)(t=>t.target.value),Object(d.a)(500),Object(g.a)()).subscribe(t=>this.getPeopleList())}getPeopleList(t=this.searchValue,n){let e;e=n?{search:t,page:n}:{search:t},this.apiRequestService.get(e).pipe(c(()=>this.alive)).subscribe(t=>{this.setPeopleData(t),t&&this.checkDataAvailability(t.results)},t=>{this.snackBarService.openSnackBar(t,"Error")})}setPeopleData(t){this.peopleData=t}checkDataAvailability(t){t&&0===t.length&&this.snackBarService.openSnackBar("No data","People")}ngOnDestroy(){this.alive=!1}}return t.\u0275fac=function(n){return new(n||t)(h.Nb(x),h.Nb(P))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-cards"]],viewQuery:function(t,n){var e;1&t&&h.tc(B,!0),2&t&&h.mc(e=h.bc())&&(n.searchInput=e.first)},decls:7,vars:3,consts:[["matInput","","type","text","name","searchInput",3,"ngModel","ngModelChange"],["searchInput",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"data","paginatorActionURL",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"data","paginatorActionURL"]],template:function(t,n){1&t&&(h.Sb(0,"mat-form-field"),h.Sb(1,"mat-label"),h.wc(2,"Search"),h.Rb(),h.Sb(3,"input",0,1),h.ac("ngModelChange",(function(t){return n.searchValue=t})),h.Rb(),h.vc(5,D,3,0,"button",2),h.Rb(),h.vc(6,U,1,1,"cards-list",3)),2&t&&(h.Bb(3),h.jc("ngModel",n.searchValue),h.Bb(2),h.jc("ngIf",n.searchValue),h.Bb(1),h.jc("ngIf",n.peopleData&&n.peopleData.results&&n.peopleData.results.length>0))},directives:[O.b,O.e,C.a,w.a,w.e,w.g,M.k,v.a,O.f,_.a,z],styles:["mat-form-field[_ngcontent-%COMP%]{width:200px;margin-right:10px}.mdc-button[_ngcontent-%COMP%]{cursor:pointer}@media (max-width:991.98px){mat-form-field[_ngcontent-%COMP%]{width:180px}}@media (min-width:576px) and (max-width:767.98px){mat-form-field[_ngcontent-%COMP%]{width:165px}}@media (max-width:575.98px){mat-form-field[_ngcontent-%COMP%]{width:150px}}"]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(n){return new(n||t)},imports:[[i.a.forChild(T)],i.a]}),t})();e.d(n,"CardsModule",(function(){return E}));let E=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(n){return new(n||t)},imports:[[A,a.a]]}),t})()}}]);